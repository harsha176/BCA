<h2>Listing users</h2>

<table>
  <tr>
    <th colspan="10">Username</th>
    <th colspan="15">Email</th>
    <th colspan="5">Show</th>
    <th colspan="5">Edit</th>
    <th colspan="5">Destroy</th>
    <th colspan="5">Grant Admin</th>
    <th colspan="5">Revoke Admin</th>
  </tr>

<% @users.each do |user| %>
  <tr>
    <td colspan="10"><%= user.username %></td>
    <td colspan="15"><%= user.e_mail %></td>
    <td colspan="5"><%= link_to 'Show', user %></td>
    <td colspan="5"><%= link_to_if @isDeletable, 'Edit', edit_user_path(user) %></td>
    <td colspan="5"><%=  link_to_if @isAdmin, 'Destroy', user, confirm: 'Are you sure?', method: :delete %></td>
    <td colspan="5"><%= link_to_if @isAdmin, 'Grant Admin', :action => :grant_admin, :id=> user.id %></td>
    <td colspan="5"><%= link_to_if @isAdmin, 'Revoke Admin', :action => :revoke_admin, :id=> user.id%></td>
  </tr>
<% end %>
</table>

<br />

<%= link_to 'New User', new_user_path %>

<%= link_to 'Back', :back %>
